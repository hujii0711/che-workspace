schemaVersion: 2.2.0
metadata:
  name: vscode-websquare-hhhh
components:
  - name: tools
    container:
      image: quay.io/devfile/universal-developer-image:latest
      memoryLimit: 2Gi
      mountSources: true
      env:
        - name: DEFAULT_EXTENSIONS
          value: "/tmp/websquare-web-extension-1.0.0.vsix;/tmp/vmware.vscode-boot-dev-pack-0.2.2.vsix;/tmp/ms-ceintl.vscode-language-pack-ko-1.105.2025091709.vsix"
      volumeMounts:
        - name: tmp
          path: /tmp
  - name: tmp
    volume:
      size: 1Gi
  - name: studio-message-server-pod
  kubernetes:
    inlined: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: studio-message-server
      spec:
        containers:
        - name: studio-message-server
          image: test:0.0.2
          imagePullPolicy: Never
          resources:
            limits:
              memory: 2Gi
          ports:
          - containerPort: 11199
        restartPolicy: Always
commands:
  - id: install-websquare-vsix
    exec:
      component: tools
      commandLine: |
        curl -L --fail --silent --show-error -o /tmp/websquare-web-extension-1.0.0.vsix https://hujii0711.github.io/savezone/websquare-web-extension-1.0.0.vsix || { echo "Failed to download websquare-web-extension-1.0.0.vsix"; exit 1; }
      group:
        kind: run
  - id: install-springboot-vsix
    exec:
      component: tools
      commandLine: |
        curl -L --fail --silent --show-error -o /tmp/vmware.vscode-boot-dev-pack-0.2.2.vsix https://hujii0711.github.io/savezone/vmware.vscode-boot-dev-pack-0.2.2.vsix || { echo "Failed to download vmware.vscode-boot-dev-pack-0.2.2.vsix"; exit 1; }
      group:
        kind: run
  - id: install-ko-langpack-vsix
    exec:
      component: tools
      commandLine: |
        curl -L --fail --silent --show-error -o /tmp/ms-ceintl.vscode-language-pack-ko-1.105.2025091709.vsix https://hujii0711.github.io/savezone/ms-ceintl.vscode-language-pack-ko-1.105.2025091709.vsix || { echo "Failed to download vscode-language-pack-ko-1.105.2025091709.vsix"; exit 1; }
      group:
        kind: run
events:
  postStart:
    - install-websquare-vsix
    - install-springboot-vsix
    - install-ko-langpack-vsix
